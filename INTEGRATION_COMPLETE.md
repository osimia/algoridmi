# üéâ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –∏–∑ 1010+ —Ç–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –°–æ–∑–¥–∞–Ω–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ **1010 –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ–º**
- **–ù–∞—á–∞–ª—å–Ω–∞—è —à–∫–æ–ª–∞** (1-4 –∫–ª–∞—Å—Å): 351 —Ç–µ–º–∞
- **–°—Ä–µ–¥–Ω—è—è —à–∫–æ–ª–∞** (5-9 –∫–ª–∞—Å—Å): 1,291 —Ç–µ–º  
- **–°—Ç–∞—Ä—à–∞—è —à–∫–æ–ª–∞** (10-11 –∫–ª–∞—Å—Å): 794 —Ç–µ–º—ã
- **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å** (12 –∫–ª–∞—Å—Å): 95 —Ç–µ–º

### 2. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ —Å–∏—Å—Ç–µ–º—É –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Gemini

#### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:

**`core/math_topics_database.py`** ‚úÖ
- –°–æ–∑–¥–∞–Ω–∞ –±–∞–∑–∞ –∏–∑ 1010+ —Ç–µ–º
- –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–µ–º –ø–æ –∫–ª–∞—Å—Å—É –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∞—Ä–∏–∞—Ü–∏–π —Ç–µ–º

**`core/gemini_service.py`** ‚úÖ  
- –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–±–æ—Ä–∞ —Ç–µ–º
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥–±–æ—Ä —Ç–µ–º—ã –ø–æ –∫–ª–∞—Å—Å—É
- –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–º—ã

**`problems/views_gemini.py`** ‚úÖ
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –±–∞–∑–∞ —Ç–µ–º –≤ API
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä —Ç–µ–º—ã –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- Fallback –Ω–∞ —Å—Ç–∞—Ä—É—é —Å–∏—Å—Ç–µ–º—É –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### 3. –ö–∞–∫ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä —Ç–µ–º—ã:

```python
# –í views_gemini.py (—Å—Ç—Ä–æ–∫–∏ 66-83)
if profile.grade:
    topic_obj = get_random_topic_for_grade(profile.grade)
    if topic_obj:
        topic_name = f"{topic_obj['category']}: {topic_obj['topic']}"
        target_difficulty = (topic_obj['difficulty_min'] + topic_obj['difficulty_max']) // 2
        logger.info(f"üìö –í—ã–±—Ä–∞–Ω–∞ —Ç–µ–º–∞ –∏–∑ –±–∞–∑—ã: {topic_name}")
```

#### –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 7 –∫–ª–∞—Å—Å–∞** –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∑–∞–¥–∞—á—É
2. **–°–∏—Å—Ç–µ–º–∞ –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é —Ç–µ–º—É** –∏–∑ 311 —Ç–µ–º –¥–ª—è 7 –∫–ª–∞—Å—Å–∞
3. **–ü—Ä–∏–º–µ—Ä**: "–ê–ª–≥–µ–±—Ä–∞: –ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è"  
4. **–ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å** –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, 850)
5. **–ü–µ—Ä–µ–¥–∞–µ—Ç –≤ Gemini** –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞—á–∏

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:
- **–¢–µ–∫—Å—Ç–æ–≤—ã–µ –∑–∞–¥–∞—á–∏**: 197 —Ç–µ–º
- **–ì–µ–æ–º–µ—Ç—Ä–∏—è**: 93 —Ç–µ–º—ã  
- **–£—Ä–∞–≤–Ω–µ–Ω–∏—è**: 93 —Ç–µ–º—ã
- **–ê—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞**: 88 —Ç–µ–º
- **–í—ã—Å—à–∞—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞**: 83 —Ç–µ–º—ã
- **–°—Ç–µ—Ä–µ–æ–º–µ—Ç—Ä–∏—è**: 58 —Ç–µ–º
- **–§—É–Ω–∫—Ü–∏–∏**: 42 —Ç–µ–º—ã
- **–û–ª–∏–º–ø–∏–∞–¥–Ω–∞—è**: 41 —Ç–µ–º–∞
- –ò –µ—â–µ 15+ –∫–∞—Ç–µ–≥–æ—Ä–∏–π...

### –ü–æ –∫–ª–∞—Å—Å–∞–º:
- **1 –∫–ª–∞—Å—Å**: 75 —Ç–µ–º
- **2 –∫–ª–∞—Å—Å**: 80 —Ç–µ–º
- **3 –∫–ª–∞—Å—Å**: 123 —Ç–µ–º—ã
- **4 –∫–ª–∞—Å—Å**: 83 —Ç–µ–º—ã
- **5 –∫–ª–∞—Å—Å**: 161 —Ç–µ–º–∞
- **6 –∫–ª–∞—Å—Å**: 155 —Ç–µ–º
- **7 –∫–ª–∞—Å—Å**: 311 —Ç–µ–º ‚≠ê
- **8 –∫–ª–∞—Å—Å**: 343 —Ç–µ–º—ã ‚≠ê
- **9 –∫–ª–∞—Å—Å**: 361 —Ç–µ–º–∞ ‚≠ê
- **10 –∫–ª–∞—Å—Å**: 390 —Ç–µ–º ‚≠ê
- **11 –∫–ª–∞—Å—Å**: 404 —Ç–µ–º—ã ‚≠ê
- **12 –∫–ª–∞—Å—Å**: 95 —Ç–µ–º

## üîÑ API –∏–∑–º–µ–Ω–µ–Ω–∏—è

### GET `/api/problems/generate-ai/`

**–ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–ª–∞—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –í—ã–±–∏—Ä–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é —Ç–µ–º—É –∏–∑ –±–∞–∑—ã –¥–ª—è —ç—Ç–æ–≥–æ –∫–ª–∞—Å—Å–∞
3. –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–º—ã
4. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∑–∞–¥–∞—á—É —á–µ—Ä–µ–∑ Gemini

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
GET /api/problems/generate-ai/
Authorization: Bearer <token>
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "problem": {
    "id": "problem_123_...",
    "topic_name": "–ê–ª–≥–µ–±—Ä–∞: –ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è",
    "title": "–†–µ—à–µ–Ω–∏–µ –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ —É—Ä–∞–≤–Ω–µ–Ω–∏—è",
    "problem_text": "–ù–∞–π–¥–∏—Ç–µ –∫–æ—Ä–Ω–∏ —É—Ä–∞–≤–Ω–µ–Ω–∏—è...",
    "description": "–†–µ—à–∏—Ç–µ –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ...",
    "equation_to_solve": "x^2 - 5x + 6 = 0",
    "difficulty_score": 850,
    "hints": ["–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞–Ω—Ç", "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä–Ω–∏"],
    "generated_by_ai": true
  },
  "user_index": 1200,
  "difficulty_range": {
    "min": 700,
    "max": 1000
  }
}
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã

### 1. **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ**
- 1010 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Ç–µ–º –ø—Ä–æ—Ç–∏–≤ ~20 —Ä–∞–Ω–µ–µ
- –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—É—é —Ç–µ–º—É
- –ù–µ—Ç –ø–æ–≤—Ç–æ—Ä–æ–≤ –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–æ–ª–≥–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏

### 2. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**
- –¢–µ–º—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∫–ª–∞—Å—Å—É —É—á–µ–Ω–∏–∫–∞
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è
- –£—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤–æ–∑—Ä–∞—Å—Ç –∏ —É—Ä–æ–≤–µ–Ω—å

### 3. **–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å**
- –ü–ª–∞–≤–Ω–æ–µ —É—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –æ—Ç –∫–ª–∞—Å—Å–∞ –∫ –∫–ª–∞—Å—Å—É
- –ü–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ–π —à–∫–æ–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã
- –í–∫–ª—é—á–µ–Ω–∏–µ –æ–ª–∏–º–ø–∏–∞–¥–Ω—ã—Ö –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ç–µ–º

### 4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–µ–º—ã
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–∞—Ä–∏–∞—Ü–∏–π
- –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:
```bash
# –¢–µ—Å—Ç –∏–º–ø–æ—Ä—Ç–∞ –∏ –≤—ã–±–æ—Ä–∞ —Ç–µ–º
cd core
python -c "from math_topics_database import get_random_topic_for_grade; topic = get_random_topic_for_grade(7); print(f'–¢–µ–º–∞: {topic[\"category\"]}: {topic[\"topic\"]}')"
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ API:
```bash
# –ó–∞–ø—Ä–æ—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞—á–∏
curl -H "Authorization: Bearer <token>" \
     http://localhost:8000/api/problems/generate-ai/
```

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä—É–µ—Ç –≤—ã–±–æ—Ä —Ç–µ–º:
```
üìö –í—ã–±—Ä–∞–Ω–∞ —Ç–µ–º–∞ –∏–∑ –±–∞–∑—ã: –ê–ª–≥–µ–±—Ä–∞: –ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è | –°–ª–æ–∂–Ω–æ—Å—Ç—å: 850
üìù –ó–∞–ø—Ä–æ—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞—á–∏ | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: user123 | –¢–µ–º–∞: –ê–ª–≥–µ–±—Ä–∞: –ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è | –°–ª–æ–∂–Ω–æ—Å—Ç—å: 850
üöÄ –ù–∞—á–∞–ª–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞—á–∏ | –¢–µ–º–∞: –ê–ª–≥–µ–±—Ä–∞: –ö–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è | –°–ª–æ–∂–Ω–æ—Å—Ç—å: 850 | –ö–ª–∞—Å—Å: 7
‚úÖ –ó–∞–¥–∞—á–∞ —É—Å–ø–µ—à–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ | –ù–∞–∑–≤–∞–Ω–∏–µ: '–†–µ—à–µ–Ω–∏–µ –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–≥–æ —É—Ä–∞–≤–Ω–µ–Ω–∏—è' | –û–±—â–µ–µ –≤—Ä–µ–º—è: 2.34 —Å–µ–∫
```

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å —Å–ø–æ—Å–æ–±–Ω–∞ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –ø–æ 1010 —Ä–∞–∑–ª–∏—á–Ω—ã–º —Ç–µ–º–∞–º** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–æ–¥–±–æ—Ä–æ–º –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç:

- ‚úÖ –ö–ª–∞—Å—Å–∞ —É—á–µ–Ω–∏–∫–∞ (1-12)
- ‚úÖ –£—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (0-3000)  
- ‚úÖ –í–æ–∑—Ä–∞—Å—Ç–∞
- ‚úÖ –ò–Ω–¥–µ–∫—Å–∞ –ê–ª-–•–æ—Ä–µ–∑–º–∏
- ‚úÖ –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ** –∏ **–ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥** –∫ –æ–±—É—á–µ–Ω–∏—é –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ! üöÄ

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: 26 –¥–µ–∫–∞–±—Ä—è 2024  
**–í–µ—Ä—Å–∏—è**: 2.0.0  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É
